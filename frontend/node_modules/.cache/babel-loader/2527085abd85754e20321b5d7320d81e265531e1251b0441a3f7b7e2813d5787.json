{"ast":null,"code":"var _jsxFileName = \"/Users/markjimenez/Desktop/ENSF-3rdYear-SecondSem/ENSF401/SENG401_project_group14_L01/frontend/src/views/register.js\";\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleUsernameChange = event => {\n      this.setState({\n        username: event.target.value\n      });\n    };\n    this.handlePasswordChange = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        username,\n        password\n      } = this.state;\n      if (!this.state.username || !this.state.password) {\n        this.setState({\n          error: 'Please enter both username and password'\n        });\n      } else {\n        console.log('Form submitted', this.state);\n        this.setState({\n          error: ''\n        });\n      }\n      const email = \"Login\";\n      const User = {\n        email,\n        username,\n        password\n      };\n      fetch(\"http://127.0.0.1:5000/login\", {\n        method: \"POST\",\n        body: JSON.stringify(User),\n        headers: {\n          \"Content-type\": \"application/json; charset=UTF-8\"\n        }\n      }).then(response => response.json()).then(json => {\n        if (json.error === \"Login successful\") {\n          //save Auth state in local storage\n          localStorage.setItem('Auth', true);\n          this.setState({\n            Auth: true\n          });\n          window.location.href = '/';\n        } else {\n          this.setState({\n            error: json.error\n          });\n          localStorage.setItem('Auth', false);\n        }\n      });\n    };\n    this.state = {\n      username: '',\n      password: '',\n      error: '',\n      Auth: false\n    };\n  }\n  render() {\n    const formStyle = {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '10px',\n      maxWidth: '200px'\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        style: formStyle,\n        children: [this.state.Auth && this.onSwitchAuth, this.state.error && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: this.state.error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 32\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Username\",\n          value: this.state.username,\n          onChange: this.handleUsernameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: this.state.password,\n          onChange: this.handlePasswordChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: this.props.onSwitchToSignup,\n          children: \"Switch to Sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Register;","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Register","Component","constructor","props","handleUsernameChange","event","setState","username","target","value","handlePasswordChange","password","handleSubmit","preventDefault","state","error","console","log","email","User","fetch","method","body","JSON","stringify","headers","then","response","json","localStorage","setItem","Auth","window","location","href","render","formStyle","display","flexDirection","gap","maxWidth","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","style","onSwitchAuth","type","placeholder","onChange","onClick","onSwitchToSignup"],"sources":["/Users/markjimenez/Desktop/ENSF-3rdYear-SecondSem/ENSF401/SENG401_project_group14_L01/frontend/src/views/register.js"],"sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';  \n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      error: '' ,\n      Auth: false\n    };\n  }\n  \n\n  handleUsernameChange = (event) => {\n    this.setState({ username: event.target.value });\n  }\n\n  handlePasswordChange = (event) => {\n    this.setState({ password: event.target.value });\n  }\n  \nhandleSubmit = (event) => {\n  event.preventDefault();\n  const { username, password } = this.state;\n  if (!this.state.username || !this.state.password) {\n    this.setState({ error: 'Please enter both username and password' });\n  } else {\n    console.log('Form submitted', this.state);\n    this.setState({ error: '' }); \n  }\n\n  const email = \"Login\"\n\n  const User = {\n    email,\n    username,\n    password,\n  };\n\n  \n\n  fetch(\"http://127.0.0.1:5000/login\", {\n    method: \"POST\",\n    body: JSON.stringify(User),\n    headers: {\n      \"Content-type\": \"application/json; charset=UTF-8\"\n    }\n  })\n    .then((response) => response.json())\n    .then((json) => {\n      if (json.error === \"Login successful\") {\n        //save Auth state in local storage\n        localStorage.setItem('Auth', true);\n        this.setState({ Auth: true });\n        window.location.href = '/';\n      } else {\n        this.setState({ error: json.error });\n        localStorage.setItem('Auth', false);\n      } \n    });}\n\n      render() {\n    const formStyle = {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '10px',\n      maxWidth: '200px'\n    };\n\n    return (\n      \n      <div>\n    \n        <h2>Login</h2>\n        <form onSubmit={this.handleSubmit} style={formStyle}>\n          {this.state.Auth && this.onSwitchAuth }{}\n          {this.state.error && <div>{this.state.error}</div>} {}\n       \n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            value={this.state.username}\n            onChange={this.handleUsernameChange}\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={this.state.password}\n            onChange={this.handlePasswordChange}\n          />\n          <button type=\"submit\" >Login</button>\n          <button type=\"button\" onClick={this.props.onSwitchToSignup}>Switch to Sign up</button>\n          \n        </form>\n       \n        \n      </div>\n    );\n  }\n}\n\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}